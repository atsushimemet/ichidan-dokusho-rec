# 店舗管理機能の実装

## 概要
書籍登録機能と同様に、店舗（本屋）の情報を管理できる機能を実装しました。

## 実装内容

### 1. データベース設計
- `stores` テーブルを追加
- フィールド：
  - `id`: UUID（主キー）
  - `name`: 店舗名（必須）
  - `sns_link`: SNSリンク（任意）
  - `google_map_link`: Google Mapリンク（任意）
  - `description`: 店舗の説明（任意）
  - `created_at`: 作成日時
  - `updated_at`: 更新日時

### 2. 型定義
- `Store` インターフェースを `src/types/index.ts` に追加

### 3. 管理者画面
- `/admin/stores` ページを新規作成
- 既存の書籍管理機能と同様のUI/UX
- 自動保存機能付きの編集フォーム
- デバッグコンソール機能

### 4. 機能詳細

#### CRUD操作
- **Create**: 新しい店舗の追加
- **Read**: 店舗一覧の表示
- **Update**: 店舗情報の編集（自動保存対応）
- **Delete**: 店舗の削除

#### フォーム項目
- **店舗名** (必須): 本屋の名前
- **SNSリンク** (任意): TwitterやInstagramなどのSNSアカウント
- **Google Mapリンク** (任意): 店舗の地図へのリンク
- **説明** (任意): 店舗の特徴や魅力

#### 自動保存機能
- 編集モード時、各項目の入力完了後500ms後に自動保存
- 保存状況をリアルタイムで表示
- デバッグログで操作履歴を追跡可能

### 5. UI/UX特徴
- 書籍管理と統一されたデザイン
- レスポンシブ対応
- カード形式での店舗表示
- 店舗アイコン（🏪）での視覚的識別
- SNSと地図へのクイックリンク

### 6. ナビゲーション
- メイン管理画面（`/admin`）に店舗管理ボタン（🏪）を追加
- 店舗管理画面から他の管理機能へのナビゲーション

## ファイル構成

```
src/
├── app/
│   └── admin/
│       ├── page.tsx (店舗管理ボタンを追加)
│       └── stores/
│           └── page.tsx (新規作成)
├── types/
│   └── index.ts (Store型を追加)
└── supabase/
    └── schema.sql (storesテーブルを追加)
```

## セキュリティ
- Row Level Security (RLS) ポリシーを設定
- 読み取り：全ユーザー
- 書き込み：認証済みユーザーのみ

## サンプルデータ
以下の店舗がサンプルデータとして含まれています：
- 青山ブックセンター本店
- 蔦屋書店 代官山店
- SHIBUYA TSUTAYA
- 丸善 丸の内本店
- 紀伊國屋書店 新宿本店

## 使用方法
1. `/admin` にアクセス
2. 店舗管理ボタン（🏪）をクリック
3. 新しい店舗を追加するか、既存の店舗を編集
4. 編集時は自動保存が有効になり、入力内容が自動的に保存される

## 技術仕様
- Next.js 14.2.5
- TypeScript
- Supabase (PostgreSQL)
- Tailwind CSS
- 既存のコンポーネントライブラリを活用

この実装により、書籍だけでなく店舗情報も効率的に管理できるようになりました。